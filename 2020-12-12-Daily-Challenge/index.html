<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <!-- viewport-fit=cover is to support iPhone X rounded corners and notch in landscape-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=10, viewport-fit=cover">

      <title>CSUwangj&#x27;s daily challenge</title>

      <!-- CSS -->
      <link rel="stylesheet" href="https://csuwangj.github.io/ZDaily/css/lib/font-awesome.min.css">
      <link rel="stylesheet" href="https://csuwangj.github.io/ZDaily/site.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya+Sans|Noto+Serif+SC">
      
      <!-- js -->
      <script type="text/javascript" charset="utf-8" src="https://csuwangj.github.io/ZDaily/js/sidebar.js"></script>
      

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" crossorigin="anonymous">
<script type="module">
import renderMathInElement from "https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.mjs";
const katex_config = {
  delimiters: [
    { left: "$$", right: "$$", display: true },
    { left: "$", right: "$", display: false },
  ],
  macros: {
    // Functions
    arccot: '\\operatorname{arccot}',
    arcsec: '\\operatorname{arcsec}',
    arccsc: '\\operatorname{arccsc}',
  }
}
renderMathInElement(document.body, katex_config);
</script>


      

      
        <link rel="alternate" type="application/atom+xml" title="RSS" href="https://csuwangj.github.io/ZDaily/atom.xml">
      

      
      
    </head>

    <body>
      
      
        <header name="header">
          <div>
            <div class="logo"><a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;">ZDaily</a></div>
            <nav class="menu">
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;" class="nav-item-home unselectable">
                  <span><i class="fa-solid fa-house"></i> Home</span>
                </a>
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;about" class="nav-item-about unselectable">
                  <span><i class="fa-solid fa-user-circle"></i> About</span>
                </a>
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;categories" class="nav-item-categories unselectable">
                  <span><i class="fa-solid fa-book"></i> Categories</span>
                </a>
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;tags" class="nav-item-tags unselectable">
                  <span><i class="fa-solid fa-tags"></i> Tags</span>
                </a>
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;archives" class="nav-item-archives unselectable">
                  <span><i class="fa-solid fa-inbox"></i> Archives</span>
                </a>
              
              
            </nav>
          </div>
        </header>
      

      <main class="content container" name="main">
        <div class="content-wrapper">
          
  <div class="post">
    <h1 class="post-title">2020-12-12 Daily-Challenge</h1>
    <div class="post-meta">
      
        <span class="post-meta-divider">|</span>
        <span class="post-meta-item-icon"><i class="fa-solid fa-calendar"></i></span>
        <span class="post-date">Posted on: </span>
        <time datetime=2020-12-12T01:36:27+08:00 title="post created">2020-12-12</time>
      
      
        <span class="post-meta-divider">|</span>
        <span class="post-meta-item-icon"><i class="fa-solid fa-calendar-check"></i></span>
        <span class="modify-date">Posted modified: </span>
        <time datetime=2020-12-12T16:42:05+08:00 title="post modified">2020-12-12</time>
      
      
        <span class="post-meta-divider">|</span>
        <span class="post-meta-item-icon"><i class="fa-solid fa-folder"></i></span>
        <span class="in-category">In: </span>
          
            <a class="category" href="/category/DailyChallenge">DailyChallenge</a>
          
      
      <span class="post-meta-divider">|</span>
    </div>
    <div class="post-body">
      <p>Today is Saturday, I gonna review the tasks I've done this week, and finish today's leetcode's <a href="https://leetcode.com/explore/challenge/card/december-leetcoding-challenge/570/week-2-december-8th-december-14th/3563/">November LeetCoding Challenge</a> with <code>cpp</code>.</p>
<span id="continue-reading"></span><h1 id="leetcode-review">LeetCode Review</h1>
<h2 id="jump-game-ii">Jump Game II</h2>
<p>smaller constant $O(n)$ solution</p>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
    int jump(vector&lt;int&gt;&amp; nums) {
        int len = nums.size();
        if(len == 1) return 0;
        if(len-1 &lt;= nums[0]) return 1;
        int farthest = -1;
        int nextJump = nums[0];
        int jump = 1;
        for(int i = 1; i &lt; len; ++i) {
            farthest = max(farthest, i + nums[i]);
            if(i == nextJump) {
                jump += 1;
                nextJump = farthest;
            }
            if(nextJump &gt;= len-1) break;
        }
        return jump;
    }
};
</code></pre>
<h2 id="remove-duplicates-from-sorted-array-ii">Remove Duplicates from Sorted Array II</h2>
<p>use just one variable for position</p>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
    int removeDuplicates(vector&lt;int&gt;&amp; nums) {
        int len = nums.size();
        if(len &lt; 3) return len;
        int removePos = 2;
        int pos = 1;
        for( ;removePos &lt; len; ++removePos, ++pos) {
            while(removePos &lt; len &amp;&amp; nums[removePos] == nums[pos-1]) removePos +=1;
            if(removePos == len) break;
            swap(nums[pos+1], nums[removePos]);
        }
        nums.resize(pos+1);
        return pos+1;
    }
};
</code></pre>
<h2 id="path-with-maximum-probability">Path with Maximum Probability</h2>
<p>bellman ford algorithm</p>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
    double maxProbability(int n, vector&lt;vector&lt;int&gt;&gt;&amp; edges, vector&lt;double&gt;&amp; succProb, int start, int end) {
        vector&lt;double&gt; distance(n);
        distance[start] = 1;
        int len = edges.size();
        for(int loop = 0; loop &lt; len; ++loop) {
            bool modified = false;
            for(int i = 0; i &lt; len; ++i) {
                int a = edges[i][0];
                int b = edges[i][1];
                double prob = succProb[i];
                if(distance[b]*prob &gt; distance[a]) {
                    distance[a] = distance[b]*prob;
                    modified = true;
                }
                if(distance[a]*prob &gt; distance[b]) {
                    distance[b] = distance[a]*prob;
                    modified = true;
                }
            }
            if(!modified) break;
        }
        return distance[end];
    }
};
</code></pre>
<h2 id="valid-mountain-array">Valid Mountain Array</h2>
<p>nothing to say</p>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
    bool validMountainArray(vector&lt;int&gt;&amp; arr) {
        int len = arr.size();
        if(len &lt; 3 || arr[1] &lt;= arr[0]) return false;
        int pos = 1;
        while(pos &lt; len &amp;&amp; arr[pos] &gt; arr[pos-1]) ++pos;
        if(pos == len) return false;
        while(pos &lt; len &amp;&amp; arr[pos] &lt; arr[pos-1]) ++pos;
        return pos == len;
    }
};
</code></pre>
<h2 id="distinct-subsequences">Distinct Subsequences</h2>
<p>$$
dp[i][j] = \begin{cases}
dp[i-1][j] &amp; \text{if s[i] != t[j]}\
dp[i-1][j] + dp[i-1][j-1] &amp; \text{if s[i] == t[j]}
\end{cases}
$$</p>
<p>using same optimization techniques as backpack problem then we only need one dimension vector.</p>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
    int numDistinct(string s, string t) {
        int slen = s.length();
        int tlen = t.length();
        if(slen &lt;= tlen) return s == t;
        vector&lt;long long&gt; dp(tlen+1);
        dp[0] = 1;
        for(int i = 0; i &lt; slen; ++i) {
            int beginPos = max(1, tlen-slen+i);
            int endPos = min(tlen, i+slen-tlen+1);
            for(int j = endPos; j &gt;= beginPos; --j) {
                if(s[i] == t[j-1]) dp[j] += dp[j-1];
            }
        }
        return dp.back();
    }
};
</code></pre>
<h2 id="distinct-subsequences-ii">Distinct Subsequences II</h2>
<p>nothing to say</p>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
    int distinctSubseqII(string S) {
        const int MOD = 1e9+7;
        vector&lt;int&gt; last(26, -1);
        int len = S.length();
        vector&lt;int&gt; dp(len+1);
        dp[0] = 1;
        for(int i = 1; i &lt;= len; ++i) {
            int c = S[i-1] - &#x27;a&#x27;;
            dp[i] = 2 * dp[i-1];
            dp[i] %= MOD;
            if(last[c] != -1) {
                dp[i] -= dp[last[c]-1];
                if(dp[i] &lt; 0) dp[i] += MOD;
            }
            last[c] = i;
        }
        return dp.back()-1;
    }
};
</code></pre>
<h2 id="binary-search-tree-iterator">Binary Search Tree Iterator</h2>
<p>morris traversal</p>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class BSTIterator {
    TreeNode *cur, *prev;
public:
    BSTIterator(TreeNode* root) {
        cur = root, prev = nullptr;
    }
    
    int next() {
        int result = -1;
        while(result &lt; 0) {
            if(!cur-&gt;left) {
                result = cur-&gt;val;
                prev = cur;
                cur = cur-&gt;right;
            } else {
                TreeNode *pred = cur-&gt;left;
                while(pred-&gt;right &amp;&amp; pred-&gt;right != cur) pred = pred-&gt;right;
                if(pred-&gt;right) {
                    pred-&gt;right = nullptr;
                    result = cur-&gt;val;
                    prev = cur;
                    cur = cur-&gt;right;
                } else {
                    pred-&gt;right = cur;
                    cur = cur-&gt;left;
                }
            }
        }
        return result;
    }
    
    bool hasNext() {
        return cur;
    }
};
</code></pre>
<h2 id="minimum-moves-to-make-array-complementary">Minimum Moves to Make Array Complementary</h2>
<p>sweeping line</p>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
    int minMoves(vector&lt;int&gt;&amp; nums, int limit) {
        vector&lt;int&gt; lines(2*limit+2);
        int len = nums.size();
        for(int i = 0; i*2 &lt; len; ++i) {
            int mmin = min(nums[i], nums[len-1-i]);
            int mmax = max(nums[i], nums[len-1-i]);
            lines[mmin+1] -= 1;
            lines[mmin+mmax] -= 1;
            lines[mmin+mmax+1] += 1;
            lines[mmax+limit+1] += 1;
        }
        int current = len;
        int answer = INT_MAX;
        for(auto i : lines) {
            current += i;
            answer = min(answer, current);
        }
        return answer;
    }
};
</code></pre>
<h2 id="smallest-rotation-with-highest-score">Smallest Rotation with Highest Score</h2>
<p>add some comment</p>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
    int bestRotation(vector&lt;int&gt;&amp; A) {
        int len = A.size();
        vector&lt;int&gt; lines(len);
        for(int i = 0; i &lt; len; ++i) {
            int leastRotate = (i + 1) % len;
            &#x2F;&#x2F; most rotate is i - A[i] + len, plus one is offset for line
            int mostRotate = (i - A[i] + len + 1) % len;
            lines[leastRotate] += 1;
            lines[mostRotate] -= 1;
            if(leastRotate &gt; mostRotate-1) {
                &#x2F;&#x2F; rotate range is like [0,1]+[4,5]
                lines[0] += 1;
            }
        }
        int current = 0;
        int highScore = 0;
        int answer = -1;
        for(int i = 0; i &lt; len; ++i) {
            current += lines[i];
            if(current &gt; highScore) {
                highScore = current;
                answer = i;
            }
        }
        return answer;
    }
};
</code></pre>
<h2 id="reduce-array-size-to-the-half">Reduce Array Size to The Half</h2>
<p>using vector is slower</p>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
    int minSetSize(vector&lt;int&gt;&amp; arr) {
        if(arr.size() &lt; 3) return 1;
        int len = arr.size();
        vector&lt;int&gt; cnt(100001);
        for(auto i : arr) cnt[i] += 1;
        sort(cnt.begin(), cnt.end(), greater&lt;int&gt;());
        int c = 0;
        for(int i = 0; i &lt; 100001; ++i) {
            c += cnt[i];
            if(c*2 &gt;= len) return i+1;
        }
        return -1;
    }
};
</code></pre>
<h2 id="pairs-of-songs-with-total-durations-divisible-by-60">Pairs of Songs With Total Durations Divisible by 60</h2>
<p>too easy to review</p>
<h2 id="spiral-matrix-ii">Spiral Matrix II</h2>
<p>already reviewed</p>
<h1 id="december-leetcoding-challenge-12">December LeetCoding Challenge 12</h1>
<h2 id="description">Description</h2>
<p><strong>Smallest Subtree with all the Deepest Nodes</strong></p>
<p>Given the <code>root</code> of a binary tree, the depth of each node is <strong>the shortest distance to the root</strong>.</p>
<p>Return <em>the smallest subtree</em> such that it contains <strong>all the deepest nodes</strong> in the original tree.</p>
<p>A node is called <strong>the deepest</strong> if it has the largest depth possible among any node in the entire tree.</p>
<p>The <strong>subtree</strong> of a node is tree consisting of that node, plus the set of all descendants of that node.</p>
<p><strong>Note:</strong> This question is the same as 1123: https://leetcode.com/problems/lowest-common-ancestor-of-deepest-leaves/</p>
<p><strong>Example 1:</strong></p>
<p><img src="https://s3-lc-upload.s3.amazonaws.com/uploads/2018/07/01/sketch1.png" alt="img" /></p>
<pre><code>Input: root = [3,5,1,6,2,0,8,null,null,7,4]
Output: [2,7,4]
Explanation: We return the node with value 2, colored in yellow in the diagram.
The nodes coloured in blue are the deepest nodes of the tree.
Notice that nodes 5, 3 and 2 contain the deepest nodes in the tree but node 2 is the smallest subtree among them, so we return it.
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code>Input: root = [1]
Output: [1]
Explanation: The root is the deepest node in the tree.
</code></pre>
<p><strong>Example 3:</strong></p>
<pre><code>Input: root = [0,1,3,null,2]
Output: [2]
Explanation: The deepest node in the tree is 2, the valid subtrees are the subtrees of nodes 2, 1 and 0 but the subtree of node 2 is the smallest.
</code></pre>
<p><strong>Constraints:</strong></p>
<ul>
<li>The number of nodes in the tree will be in the range <code>[1, 500]</code>.</li>
<li><code>0 &lt;= Node.val &lt;= 500</code></li>
<li>The values of the nodes in the tree are <strong>unique</strong>.</li>
</ul>
<h2 id="solution">Solution</h2>
<p>answer with worst run time and space usage XD</p>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
    unordered_map&lt;TreeNode*, TreeNode*&gt; parent;
    vector&lt;TreeNode*&gt; deepest;
    int deepestLevel = -1;
    void findDeepestLevel(TreeNode* root, int curLevel) {
        if(!root) return;
        if(curLevel &gt; deepestLevel) {
            deepestLevel = curLevel;
        }
        parent[root-&gt;left] = root;
        parent[root-&gt;right] = root;
        findDeepestLevel(root-&gt;left, curLevel+1);
        findDeepestLevel(root-&gt;right, curLevel+1);
    }
    void findDeepestNodes(TreeNode* root, int curLevel) {
        if(!root) return;
        if(curLevel == deepestLevel) {
            deepest.push_back(root);
        } else {
            findDeepestNodes(root-&gt;left, curLevel+1);
            findDeepestNodes(root-&gt;right, curLevel+1);
        }
    }
public:
    TreeNode* subtreeWithAllDeepest(TreeNode* root) {
        if(!root) return root;
        findDeepestLevel(root, 0);
        findDeepestNodes(root, 0);
        if(deepest.size() == 1) return deepest.front();
        unordered_map&lt;TreeNode*, int&gt; cur;
        unordered_map&lt;TreeNode*, int&gt; nxt;
        for(auto node : deepest) {
            cur[parent[node]] += 1;
        }
        while(cur.size() &gt; 1) {
            nxt.clear();
            for(auto [node, _] : cur) {
                nxt[parent[node]] += 1;
            }
            cur = nxt;
        }
        return cur.begin()-&gt;first;
    }
};
</code></pre>

    </div>
  </div>

        </div>

        
          <button class="sidebar-toggle" onclick="openSidebar()">O</button>
          <aside class="sidebar" name="sidebar">
            <div class="site-author" itemprop="author" itemtype="https://schema.org/Person">
              
              <img class="site-author-image" itemprop="image"
                src="https://csuwangj.github.io/ZDaily/img/avatar.png"
                alt="CSUwangj" />
              
              <p class="site-author-name unselectable">CSUwangj</p>
              <p class="site-author-quote">Just keep in mind that hacking is very rarely in a sequence.</p>
            </div>
            <div class="feed-link">
              
                <a rel="alternate" type="application/atom+xml" title="RSS" href="https://csuwangj.github.io/ZDaily/atom.xml">
                  RSS
                </a>
              
            </div>
            <div class="links-of-author">
              
                <a href="https:&#x2F;&#x2F;github.com&#x2F;CSUwangj" title="Github" class="author-link">
                  <i class="fa-brands fa-github"></i>
                </a>
              
                <a href="mailto:CSUwangj@protonmail.com" title="EMail" class="author-link">
                  <i class="fa-solid fa-envelope"></i>
                </a>
              
            </div>
            <div class="links-of-blogroll">
              
                <a href="https:&#x2F;&#x2F;CSUwangj.github.io&#x2F;">blog</a>
              
            </div>
          </aside>
        

      </main>

      
        <footer name="footer">
          <div class="copyright">
            <span item="copyrightYear">© 2018-2022</span>
            <span class="author">CSUwangj</span>
          </div>
          <div class="powered-by">
            Powered by <a href="https://www.getzola.org/">Zola</a> Theme <a href="https://github.com/CSUwangj/DogFood">DogFood</a>
          </div>
        </footer>
      
    </body>

</html>