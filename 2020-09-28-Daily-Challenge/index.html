<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <!-- viewport-fit=cover is to support iPhone X rounded corners and notch in landscape-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=10, viewport-fit=cover">

      <title>CSUwangj&#x27;s daily challenge</title>

      <!-- CSS -->
      <link rel="stylesheet" href="https://csuwangj.github.io/ZDaily/css/lib/font-awesome.min.css">
      <link rel="stylesheet" href="https://csuwangj.github.io/ZDaily/site.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya+Sans|Noto+Serif+SC">
      
      <!-- js -->
      <script type="text/javascript" charset="utf-8" src="https://csuwangj.github.io/ZDaily/js/sidebar.js"></script>
      

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" crossorigin="anonymous">
<script type="module">
import renderMathInElement from "https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.mjs";
const katex_config = {
  delimiters: [
    { left: "$$", right: "$$", display: true },
    { left: "$", right: "$", display: false },
  ],
  macros: {
    // Functions
    arccot: '\\operatorname{arccot}',
    arcsec: '\\operatorname{arcsec}',
    arccsc: '\\operatorname{arccsc}',
  }
}
renderMathInElement(document.body, katex_config);
</script>


      

      
        <link rel="alternate" type="application/rss+xml" title="RSS" href="https://csuwangj.github.io/ZDaily/rss.xml">
      
      

      
      
    </head>

    <body>
      
      
        <header name="header">
          <div>
            <div class="logo"><a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;">ZDaily</a></div>
            <nav class="menu">
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;" class="nav-item-home unselectable">
                  <span><i class="fa-solid fa-house"></i> Home</span>
                </a>
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;about" class="nav-item-about unselectable">
                  <span><i class="fa-solid fa-user-circle"></i> About</span>
                </a>
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;categories" class="nav-item-categories unselectable">
                  <span><i class="fa-solid fa-book"></i> Categories</span>
                </a>
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;tags" class="nav-item-tags unselectable">
                  <span><i class="fa-solid fa-tags"></i> Tags</span>
                </a>
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;archives" class="nav-item-archives unselectable">
                  <span><i class="fa-solid fa-inbox"></i> Archives</span>
                </a>
              
              
            </nav>
          </div>
        </header>
      

      <main class="content container" name="main">
        <div class="content-wrapper">
          
  <div class="post">
    <h1 class="post-title">2020-09-28 Daily-Challenge</h1>
    <div class="post-meta">
      
        <span class="post-meta-divider">|</span>
        <span class="post-meta-item-icon"><i class="fa-solid fa-calendar"></i></span>
        <span class="post-date">Posted on: </span>
        <time datetime=2020-09-28 title="post created">2020-09-28</time>
      
      
        <span class="post-meta-divider">|</span>
        <span class="post-meta-item-icon"><i class="fa-solid fa-calendar-check"></i></span>
        <span class="modify-date">Posted modified: </span>
        <time datetime=2020-09-28T22:46:35+08:00 title="post modified">2020-09-28</time>
      
      
        <span class="post-meta-divider">|</span>
        <span class="post-meta-item-icon"><i class="fa-solid fa-folder"></i></span>
        <span class="in-category">In: </span>
          
            <a class="category" href="/category/DailyChallenge">DailyChallenge</a>
          
      
      <span class="post-meta-divider">|</span>
    </div>
    <div class="post-body">
      <p>Today is an example of <em>The non-Designer's Design Book</em> on Page 40-41 and <em>Probability of a Two Boxes Having The Same Number of Distinct Balls</em> on leetcode with <code>cpp</code>.</p>
<span id="continue-reading"></span><h1 id="the-non-designer-s-design-book">The non-Designer's Design Book</h1>
<p>my answer:</p>
<ul>
<li>[F] use more prominent font for sub title</li>
<li>[T] enlarge the logo so it aligns with the title vertically both on top and bottom</li>
<li>[T] use same font color for subtitle</li>
<li>[T] move welcome message and date information so it aligns with main text both on right and left</li>
<li>[T] change picture color to the same color as subtitle</li>
<li>[T] remove indent of first paragraph</li>
</ul>
<h1 id="probability-of-a-two-boxes-having-the-same-number-of-distinct-balls">Probability of a Two Boxes Having The Same Number of Distinct Balls</h1>
<h2 id="description">Description</h2>
<p>Given 2n balls of k distinct colors. You will be given an integer array balls of size k where balls[i] is the number of balls of color i. </p>
<p>All the balls will be shuffled uniformly at random, then we will distribute the first n balls to the first box and the remaining n balls to the other box (Please read the explanation of the second example carefully).</p>
<p>Please note that the two boxes are considered different. For example, if we have two balls of colors a and b, and two boxes [] and (), then the distribution [a] (b) is considered different than the distribution [b] (a) (Please read the explanation of the first example carefully).</p>
<p>We want to calculate the probability that the two boxes have the same number of distinct balls.</p>
<p><strong>Example 1:</strong></p>
<pre><code>Input: balls = [1,1]
Output: 1.00000
Explanation: Only 2 ways to divide the balls equally:
- A ball of color 1 to box 1 and a ball of color 2 to box 2
- A ball of color 2 to box 1 and a ball of color 1 to box 2
In both ways, the number of distinct colors in each box is equal. The probability is 2&#x2F;2 = 1
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code>Input: balls = [2,1,1]
Output: 0.66667
Explanation: We have the set of balls [1, 1, 2, 3]
This set of balls will be shuffled randomly and we may have one of the 12 distinct shuffles with equale probability (i.e. 1&#x2F;12):
[1,1 &#x2F; 2,3], [1,1 &#x2F; 3,2], [1,2 &#x2F; 1,3], [1,2 &#x2F; 3,1], [1,3 &#x2F; 1,2], [1,3 &#x2F; 2,1], [2,1 &#x2F; 1,3], [2,1 &#x2F; 3,1], [2,3 &#x2F; 1,1], [3,1 &#x2F; 1,2], [3,1 &#x2F; 2,1], [3,2 &#x2F; 1,1]
After that we add the first two balls to the first box and the second two balls to the second box.
We can see that 8 of these 12 possible random distributions have the same number of distinct colors of balls in each box.
Probability is 8&#x2F;12 = 0.66667
</code></pre>
<p><strong>Example 3:</strong></p>
<pre><code>Input: balls = [1,2,1,2]
Output: 0.60000
Explanation: The set of balls is [1, 2, 2, 3, 4, 4]. It is hard to display all the 180 possible random shuffles of this set but it is easy to check that 108 of them will have the same number of distinct colors in each box.
Probability = 108 &#x2F; 180 = 0.6
</code></pre>
<p><strong>Example 4:</strong></p>
<pre><code>Input: balls = [3,2,1]
Output: 0.30000
Explanation: The set of balls is [1, 1, 1, 2, 2, 3]. It is hard to display all the 60 possible random shuffles of this set but it is easy to check that 18 of them will have the same number of distinct colors in each box.
Probability = 18 &#x2F; 60 = 0.3
</code></pre>
<p><strong>Example 5:</strong></p>
<pre><code>Input: balls = [6,6,6,6,6,6]
Output: 0.90327
</code></pre>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= balls.length &lt;= 8</code></li>
<li><code>1 &lt;= balls[i] &lt;= 6</code></li>
<li><code>sum(balls)</code> is even.</li>
<li>Answers within <code>10^-5</code> of the actual value will be accepted as correct.</li>
</ul>
<h2 id="solution">Solution</h2>
<p>First, the answer is </p>
<p>$$\frac{\Sigma(ways\ of\ pick\ left\ side\ balls) \times(permutations\ ways\ of\ left\ side)\times (permutations\ ways\ of\ right\ side)}{ways\ of\ all\ permutations}$$</p>
<p>where </p>
<p>$$(ways\ of\ pick\ left\ side\ balls)=\Pi(ways\ of\ pick\ each\ color)$$</p>
<p>For example, example 2 with balls <code>[2, 1, 1]</code>, the answer is </p>
<p>$$\frac{(ways\ of\ pick\ [1, 2])\times A_2^1 \times A_2^1+(ways\ of\ pick\ [1, 3])\times A_2^1 \times A_2^1}{A_4^4}$$</p>
<p>which becomes </p>
<p>$$\frac{(C_2^1\times C_1^1)\times A_2^1 \times A_2^1+(C_2^1\times C_1^1)\times A_2^1 \times A_2^1}{A_4^4}$$</p>
<p>and the permutations is always multiplied, so first formula can be written as</p>
<p>$$\frac{\Sigma(ways\ of\ pick\ left\ side\ balls)}{(\frac{ways\ of\ all\ permutations}{(permutations\ ways\ of\ left\ side)\times (permutations\ ways\ of\ right\ side)})}$$</p>
<p>the only problem is to find ways of pick left side balls where numbers of color of left side is equal to the right side. We can solve this problem by DFS, and here is my shitty code:</p>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
  public:

  int left_color;
  int right_color;
  int min_color;
  int max_color;
  int balls_used;
  int balls_left;
  int number_of_balls;
  int number_of_colors;
  long long answer;
  long long c[50][50];
  vector &lt; int &gt; ball;

  void dfs(long long cur, int idx) {
    if (idx == number_of_colors) {
      if (left_color == right_color) {
        answer += cur;
      }
      return;
    }
    int minballs = max(number_of_balls &#x2F; 2 - (balls_used + balls_left - ball[idx]), 0);
    int maxballs = min(number_of_balls &#x2F; 2 - balls_used, ball[idx]);
    for (int i = minballs; i &lt;= maxballs; i++) {
      balls_left -= ball[idx];
      balls_used += i;
      if (i == 0 &amp;&amp; left_color &lt;= max_color) {
        dfs(cur, idx + 1);
      } else if (i &amp;&amp; i &lt; ball[idx] &amp;&amp; left_color &lt; max_color) {
        left_color += 1;
        const long long new_cur = cur * c[ball[idx]][i];
        dfs(new_cur, idx + 1);
        left_color -= 1;
      } else if (i == ball[idx] &amp;&amp; left_color &lt; max_color &amp;&amp; right_color &gt; min_color) {
        left_color += 1;
        right_color -= 1;
        dfs(cur, idx + 1);
        right_color += 1;
        left_color -= 1;
      }
      balls_left += ball[idx];
      balls_used -= i;
    }
  }

  void init() {
    for (int i = 1; i &lt; 50; i++) {
      c[i][i] = 1;
      c[i][0] = 1;
      for (int j = 1; j &lt; i; ++j) {
        c[i][j] = c[i - 1][j - 1] + c[i - 1][j];
      }
    }
  }

  void round_init() {
    number_of_colors = ball.size();
    number_of_balls = 0;
    int one = 0;
    for (int i = 0; i &lt; number_of_colors; ++i) {
      if (ball[i] == 1) {
        one += 1;
      }
      number_of_balls += ball[i];
    }
    balls_left = number_of_balls;
    min_color = (number_of_colors + 1) &#x2F; 2;
    max_color = number_of_colors - (one + 1) &#x2F; 2;
    right_color = number_of_colors;
    left_color = 0;
    balls_used = 0;
    answer = 0;
  }

  double getProbability(vector &lt; int &gt; &amp; balls) {
    ball = balls;
    init();
    round_init();
    dfs(1, 0);
    return 1.0 * answer &#x2F; c[number_of_balls][number_of_balls &#x2F; 2];
  }
};
</code></pre>

    </div>
  </div>

        </div>

        
          <button class="sidebar-toggle" onclick="openSidebar()">O</button>
          <aside class="sidebar" name="sidebar">
            <div class="site-author" itemprop="author" itemtype="https://schema.org/Person">
              
              <img class="site-author-image" itemprop="image"
                src="https://csuwangj.github.io/ZDaily/img/avatar.png"
                alt="CSUwangj" />
              
              <p class="site-author-name unselectable">CSUwangj</p>
              <p class="site-author-quote">Just keep in mind that hacking is very rarely in a sequence.</p>
            </div>
            <div class="feed-link">
              
                <a rel="alternate" type="application/rss+xml" title="RSS" href="https://csuwangj.github.io/ZDaily/rss.xml">
                  RSS
                </a>
              
            </div>
            <div class="links-of-author">
              
                <a href="https:&#x2F;&#x2F;github.com&#x2F;CSUwangj" title="Github" class="author-link">
                  <i class="fa-brands fa-github"></i>
                </a>
              
                <a href="mailto:CSUwangj@protonmail.com" title="EMail" class="author-link">
                  <i class="fa-solid fa-envelope"></i>
                </a>
              
            </div>
            <div class="links-of-blogroll">
              
                <a href="https:&#x2F;&#x2F;CSUwangj.github.io&#x2F;">blog</a>
              
            </div>
          </aside>
        

      </main>

      
        <footer name="footer">
          <div class="copyright">
            <span item="copyrightYear">Â© 2018-2022</span>
            <span class="author">CSUwangj</span>
          </div>
          <div class="powered-by">
            Powered by <a href="https://www.getzola.org/">Zola</a> Theme <a href="https://github.com/CSUwangj/DogFood">DogFood</a>
          </div>
        </footer>
      
    </body>

</html>