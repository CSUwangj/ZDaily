<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <!-- viewport-fit=cover is to support iPhone X rounded corners and notch in landscape-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=10, viewport-fit=cover">

      <title>CSUwangj&#x27;s daily challenge</title>

      <!-- CSS -->
      <link rel="stylesheet" href="https://csuwangj.github.io/ZDaily/css/lib/font-awesome.min.css">
      <link rel="stylesheet" href="https://csuwangj.github.io/ZDaily/site.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya+Sans|Noto+Serif+SC">
      
      <!-- js -->
      <script type="text/javascript" charset="utf-8" src="https://csuwangj.github.io/ZDaily/js/sidebar.js"></script>
      

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" crossorigin="anonymous">
<script type="module">
import renderMathInElement from "https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.mjs";
const katex_config = {
  delimiters: [
    { left: "$$", right: "$$", display: true },
    { left: "$", right: "$", display: false },
  ],
  macros: {
    // Functions
    arccot: '\\operatorname{arccot}',
    arcsec: '\\operatorname{arcsec}',
    arccsc: '\\operatorname{arccsc}',
  }
}
renderMathInElement(document.body, katex_config);
</script>


      

      
        <link rel="alternate" type="application/atom+xml" title="RSS" href="https://csuwangj.github.io/ZDaily/atom.xml">
      

      
      
    </head>

    <body>
      
      
        <header name="header">
          <div>
            <div class="logo"><a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;">ZDaily</a></div>
            <nav class="menu">
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;" class="nav-item-home unselectable">
                  <span><i class="fa-solid fa-house"></i> Home</span>
                </a>
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;about" class="nav-item-about unselectable">
                  <span><i class="fa-solid fa-user-circle"></i> About</span>
                </a>
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;categories" class="nav-item-categories unselectable">
                  <span><i class="fa-solid fa-book"></i> Categories</span>
                </a>
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;tags" class="nav-item-tags unselectable">
                  <span><i class="fa-solid fa-tags"></i> Tags</span>
                </a>
              
                <a href="https:&#x2F;&#x2F;csuwangj.github.io&#x2F;ZDaily&#x2F;archives" class="nav-item-archives unselectable">
                  <span><i class="fa-solid fa-inbox"></i> Archives</span>
                </a>
              
              
            </nav>
          </div>
        </header>
      

      <main class="content container" name="main">
        <div class="content-wrapper">
          
  <div class="post">
    <h1 class="post-title">2021-03-16 Daily-Challenge</h1>
    <div class="post-meta">
      
        <span class="post-meta-divider">|</span>
        <span class="post-meta-item-icon"><i class="fa-solid fa-calendar"></i></span>
        <span class="post-date">Posted on: </span>
        <time datetime=2021-03-16T18:31:03+08:00 title="post created">2021-03-16</time>
      
      
        <span class="post-meta-divider">|</span>
        <span class="post-meta-item-icon"><i class="fa-solid fa-calendar-check"></i></span>
        <span class="modify-date">Posted modified: </span>
        <time datetime=2021-03-16T21:19:24+08:00 title="post modified">2021-03-16</time>
      
      
        <span class="post-meta-divider">|</span>
        <span class="post-meta-item-icon"><i class="fa-solid fa-folder"></i></span>
        <span class="in-category">In: </span>
          
            <a class="category" href="/category/DailyChallenge">DailyChallenge</a>
          
      
      <span class="post-meta-divider">|</span>
    </div>
    <div class="post-body">
      <p>Today I have done <a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock/">Best Time to Buy and Sell Stock</a>, <a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/">Best Time to Buy and Sell Stock II</a>, <a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/">Best Time to Buy and Sell Stock III</a>, <a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/">Best Time to Buy and Sell Stock IV</a>, <a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/">Best Time to Buy and Sell Stock with Cooldown</a> and leetcode's <a href="https://leetcode.com/explore/challenge/card/march-leetcoding-challenge-2021/590/week-3-march-15th-march-21st/3674/">March LeetCoding Challenge</a> with <code>cpp</code>.</p>
<span id="continue-reading"></span><h1 id="best-time-to-buy-and-sell-stock">Best Time to Buy and Sell Stock</h1>
<h2 id="description">Description</h2>
<p>You are given an array <code>prices</code> where <code>prices[i]</code> is the price of a given stock on the <code>ith</code> day.</p>
<p>You want to maximize your profit by choosing a <strong>single day</strong> to buy one stock and choosing a <strong>different day in the future</strong> to sell that stock.</p>
<p>Return <em>the maximum profit you can achieve from this transaction</em>. If you cannot achieve any profit, return <code>0</code>.</p>
<p><strong>Example 1:</strong></p>
<pre><code>Input: prices = [7,1,5,3,6,4]
Output: 5
Explanation: Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6-1 = 5.
Note that buying on day 2 and selling on day 1 is not allowed because you must buy before you sell.
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code>Input: prices = [7,6,4,3,1]
Output: 0
Explanation: In this case, no transactions are done and the max profit = 0.
</code></pre>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= prices.length &lt;= 10^5</code></li>
<li><code>0 &lt;= prices[i] &lt;= 10^4</code></li>
</ul>
<h2 id="solution">Solution</h2>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
  int maxProfit(vector&lt;int&gt;&amp; prices) {
    int mmin = INT_MAX;
    int answer = 0;
    for(auto price : prices) {
      mmin = min(mmin, price);
      answer = max(answer, price - mmin);
    }
    return answer;
  }
};
</code></pre>
<h1 id="best-time-to-buy-and-sell-stock-ii">Best Time to Buy and Sell Stock II</h1>
<h2 id="description-1">Description</h2>
<p>You are given an array <code>prices</code> where <code>prices[i]</code> is the price of a given stock on the <code>ith</code> day.</p>
<p>Find the maximum profit you can achieve. You may complete as many transactions as you like (i.e., buy one and sell one share of the stock multiple times).</p>
<p><strong>Note:</strong> You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again).</p>
<p><strong>Example 1:</strong></p>
<pre><code>Input: prices = [7,1,5,3,6,4]
Output: 7
Explanation: Buy on day 2 (price = 1) and sell on day 3 (price = 5), profit = 5-1 = 4.
Then buy on day 4 (price = 3) and sell on day 5 (price = 6), profit = 6-3 = 3.
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code>Input: prices = [1,2,3,4,5]
Output: 4
Explanation: Buy on day 1 (price = 1) and sell on day 5 (price = 5), profit = 5-1 = 4.
Note that you cannot buy on day 1, buy on day 2 and sell them later, as you are engaging multiple transactions at the same time. You must sell before buying again.
</code></pre>
<p><strong>Example 3:</strong></p>
<pre><code>Input: prices = [7,6,4,3,1]
Output: 0
Explanation: In this case, no transaction is done, i.e., max profit = 0.
</code></pre>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= prices.length &lt;= 3 * 10^4</code></li>
<li><code>0 &lt;= prices[i] &lt;= 10^4</code></li>
</ul>
<h2 id="solution-1">Solution</h2>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
  int maxProfit(vector&lt;int&gt;&amp; prices) {
    int answer = 0;
    int cur = INT_MAX;
    for(auto price : prices) {
      if(price &gt; cur) {
        answer += price - cur;
      } 
      cur = price;
    }
    return answer;
  }
};
</code></pre>
<h1 id="best-time-to-buy-and-sell-stock-iii">Best Time to Buy and Sell Stock III</h1>
<h2 id="description-2">Description</h2>
<p>You are given an array <code>prices</code> where <code>prices[i]</code> is the price of a given stock on the <code>ith</code> day.</p>
<p>Find the maximum profit you can achieve. You may complete <strong>at most two transactions</strong>.</p>
<p><strong>Note:</strong> You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again).</p>
<p><strong>Example 1:</strong></p>
<pre><code>Input: prices = [3,3,5,0,0,3,1,4]
Output: 6
Explanation: Buy on day 4 (price = 0) and sell on day 6 (price = 3), profit = 3-0 = 3.
Then buy on day 7 (price = 1) and sell on day 8 (price = 4), profit = 4-1 = 3.
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code>Input: prices = [1,2,3,4,5]
Output: 4
Explanation: Buy on day 1 (price = 1) and sell on day 5 (price = 5), profit = 5-1 = 4.
Note that you cannot buy on day 1, buy on day 2 and sell them later, as you are engaging multiple transactions at the same time. You must sell before buying again.
</code></pre>
<p><strong>Example 3:</strong></p>
<pre><code>Input: prices = [7,6,4,3,1]
Output: 0
Explanation: In this case, no transaction is done, i.e. max profit = 0.
</code></pre>
<p><strong>Example 4:</strong></p>
<pre><code>Input: prices = [1]
Output: 0
</code></pre>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= prices.length &lt;= 10^5</code></li>
<li><code>0 &lt;= prices[i] &lt;= 10^5</code></li>
</ul>
<h2 id="solution-2">Solution</h2>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
  int maxProfit(int k, vector&lt;int&gt;&amp; prices) {
    int len = prices.size();
    if(len &lt; 2) return 0;
    int dp[k + 1][len][2];
    for(int i = 0; i &lt;= k; ++i) {
      for(int j = 0; j &lt; len; ++j) {
        dp[i][j][0] = -1e9;
        dp[i][j][1] = -1e9;
      }
    }
    
    dp[0][0][0] = -prices[0];
    dp[0][0][1] = 0;
    for(int i = 0; i &lt;= k; ++i) {
      for(int j = 0; j &lt; len; ++j) {
        if(j) dp[i][j][0] = max(dp[i][j - 1][1] - prices[j], dp[i][j - 1][0]);
        if(j) dp[i][j][1] = max(dp[i][j][1], dp[i][j - 1][1]);
        if(j &amp;&amp; i) dp[i][j][1] = max(dp[i][j][1], dp[i - 1][j - 1][0] + prices[j]);
      }
    }
    int answer = 0;
    for(int i = 0; i &lt;= k; ++i) answer = max(answer, dp[i][len - 1][1]);
    
    return answer;
  }
public:
  int maxProfit(vector&lt;int&gt;&amp; prices) {
    return maxProfit(2, prices);
  }
};
</code></pre>
<h1 id="best-time-to-buy-and-sell-stock-iv">Best Time to Buy and Sell Stock IV</h1>
<h2 id="description-3">Description</h2>
<p>You are given an integer array <code>prices</code> where <code>prices[i]</code> is the price of a given stock on the <code>ith</code> day, and an integer <code>k</code>.</p>
<p>Find the maximum profit you can achieve. You may complete at most <code>k</code> transactions.</p>
<p><strong>Note:</strong> You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again).</p>
<p><strong>Example 1:</strong></p>
<pre><code>Input: k = 2, prices = [2,4,1]
Output: 2
Explanation: Buy on day 1 (price = 2) and sell on day 2 (price = 4), profit = 4-2 = 2.
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code>Input: k = 2, prices = [3,2,6,5,0,3]
Output: 7
Explanation: Buy on day 2 (price = 2) and sell on day 3 (price = 6), profit = 6-2 = 4. Then buy on day 5 (price = 0) and sell on day 6 (price = 3), profit = 3-0 = 3.
</code></pre>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>0 &lt;= k &lt;= 100</code></li>
<li><code>0 &lt;= prices.length &lt;= 1000</code></li>
<li><code>0 &lt;= prices[i] &lt;= 1000</code></li>
</ul>
<h2 id="solution-3">Solution</h2>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
  int maxProfit(int k, vector&lt;int&gt;&amp; prices) {
    int len = prices.size();
    if(len &lt; 2) return 0;
    int dp[k + 1][len][2];
    for(int i = 0; i &lt;= k; ++i) {
      for(int j = 0; j &lt; len; ++j) {
        dp[i][j][0] = -1e9;
        dp[i][j][1] = -1e9;
      }
    }
    
    dp[0][0][0] = -prices[0];
    dp[0][0][1] = 0;
    for(int i = 0; i &lt;= k; ++i) {
      for(int j = 0; j &lt; len; ++j) {
        if(j) dp[i][j][0] = max(dp[i][j - 1][1] - prices[j], dp[i][j - 1][0]);
        if(j) dp[i][j][1] = max(dp[i][j][1], dp[i][j - 1][1]);
        if(j &amp;&amp; i) dp[i][j][1] = max(dp[i][j][1], dp[i - 1][j - 1][0] + prices[j]);
      }
    }
    &#x2F;&#x2F; for(int i = 0; i &lt;= k; ++i) {
    &#x2F;&#x2F;   for(int j = 0; j &lt; len; ++j) {
    &#x2F;&#x2F;     cout &lt;&lt; dp[i][j][0] &lt;&lt; &#x27; &#x27;;
    &#x2F;&#x2F;   }
    &#x2F;&#x2F;   cout &lt;&lt; endl;
    &#x2F;&#x2F; }
    &#x2F;&#x2F; for(int i = 0; i &lt;= k; ++i) {
    &#x2F;&#x2F;   for(int j = 0; j &lt; len; ++j) {
    &#x2F;&#x2F;     cout &lt;&lt; dp[i][j][1] &lt;&lt; &#x27; &#x27;;
    &#x2F;&#x2F;   }
    &#x2F;&#x2F;   cout &lt;&lt; endl;
    &#x2F;&#x2F; }
    
    int answer = 0;
    for(int i = 0; i &lt;= k; ++i) answer = max(answer, dp[i][len - 1][1]);
    
    return answer;
  }
};
</code></pre>
<h1 id="best-time-to-buy-and-sell-stock-with-cooldown">Best Time to Buy and Sell Stock with Cooldown</h1>
<h2 id="description-4">Description</h2>
<p>You are given an array <code>prices</code> where <code>prices[i]</code> is the price of a given stock on the <code>ith</code> day.</p>
<p>Find the maximum profit you can achieve. You may complete as many transactions as you like (i.e., buy one and sell one share of the stock multiple times) with the following restrictions:</p>
<ul>
<li>After you sell your stock, you cannot buy stock on the next day (i.e., cooldown one day).</li>
</ul>
<p><strong>Note:</strong> You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again).</p>
<p><strong>Example 1:</strong></p>
<pre><code>Input: prices = [1,2,3,0,2]
Output: 3
Explanation: transactions = [buy, sell, cooldown, buy, sell]
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code>Input: prices = [1]
Output: 0
</code></pre>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= prices.length &lt;= 5000</code></li>
<li><code>0 &lt;= prices[i] &lt;= 1000</code></li>
</ul>
<h2 id="solution-4">Solution</h2>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
  int maxProfit(vector&lt;int&gt;&amp; prices) {
    int len = prices.size();
    if(len &lt; 2) return 0;
    vector&lt;int&gt; buy(len, INT_MIN);
    vector&lt;int&gt; sell(len, INT_MIN);
    buy[0] = -prices[0];
    buy[1] = max(-prices[0], -prices[1]);
    sell[0] = 0;
    sell[1] = max(0, prices[1] - prices[0]);
    for(int i = 2; i &lt; len; ++i) {
      buy[i] = max(buy[i-1], sell[i-2] - prices[i]);
      sell[i] = max(buy[i-1] + prices[i], sell[i-1]);
    }
    return sell.back();
  }
};
</code></pre>
<h1 id="march-leetcoding-challenge-16">March LeetCoding Challenge 16</h1>
<h2 id="description-5">Description</h2>
<p><strong>Best Time to Buy and Sell Stock with Transaction Fee</strong></p>
<p>You are given an array <code>prices</code> where <code>prices[i]</code> is the price of a given stock on the <code>ith</code> day, and an integer <code>fee</code> representing a transaction fee.</p>
<p>Find the maximum profit you can achieve. You may complete as many transactions as you like, but you need to pay the transaction fee for each transaction.</p>
<p><strong>Note:</strong> You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again).</p>
<p><strong>Example 1:</strong></p>
<pre><code>Input: prices = [1,3,2,8,4,9], fee = 2
Output: 8
Explanation: The maximum profit can be achieved by:
- Buying at prices[0] = 1
- Selling at prices[3] = 8
- Buying at prices[4] = 4
- Selling at prices[5] = 9
The total profit is ((8 - 1) - 2) + ((9 - 4) - 2) = 8.
</code></pre>
<p><strong>Example 2:</strong></p>
<pre><code>Input: prices = [1,3,7,5,10,3], fee = 3
Output: 6
</code></pre>
<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt; prices.length &lt;= 5 * 10^4</code></li>
<li><code>0 &lt; prices[i], fee &lt; 5 * 10^4</code></li>
</ul>
<h2 id="solution-5">Solution</h2>
<p>because of this problem, I reviewed the whole <code>Best Time To Buy and Sell Stock</code> series problem.</p>
<p>when using DP to solve them, we need to keep track of the optimal state for buy and sell.</p>
<pre data-lang="cpp" class="language-cpp "><code class="language-cpp" data-lang="cpp">class Solution {
public:
  int maxProfit(vector&lt;int&gt;&amp; prices, int fee) {
    stack&lt;pair&lt;int, int&gt;&gt; st;
    int mmin = prices.front();
    &#x2F;&#x2F; cout &lt;&lt; &quot;$$$$$$&quot; &lt;&lt; endl;
    for(auto price : prices) {
      mmin = min(mmin, price);
      int mergeProfit = 0;
      int addProfit = 0;
      if(st.size() &amp;&amp; price &gt; st.top().second &amp;&amp; 0 &lt; mmin + fee - st.top().second) {
        auto [low, high] = st.top();
        mergeProfit = price - high;
      }
      if(price &gt; mmin &amp;&amp; price - mmin &gt; fee) {
        addProfit = price - mmin - fee;
      }
      if(!mergeProfit &amp;&amp; !addProfit) continue;
      if(mergeProfit &gt;= addProfit) {
        auto [low, _high] = st.top();
        st.pop();
        st.push(make_pair(low, price));
      } else {
        st.push(make_pair(mmin, price));
      }
      mmin = price;
    }
    
    int answer = 0;
    while(st.size()) {
      auto [low, high] = st.top();
      st.pop();
      answer += high - low - fee;
    }
    return answer;
  }
};
</code></pre>

    </div>
  </div>

        </div>

        
          <button class="sidebar-toggle" onclick="openSidebar()">O</button>
          <aside class="sidebar" name="sidebar">
            <div class="site-author" itemprop="author" itemtype="https://schema.org/Person">
              
              <img class="site-author-image" itemprop="image"
                src="https://csuwangj.github.io/ZDaily/img/avatar.png"
                alt="CSUwangj" />
              
              <p class="site-author-name unselectable">CSUwangj</p>
              <p class="site-author-quote">Just keep in mind that hacking is very rarely in a sequence.</p>
            </div>
            <div class="feed-link">
              
                <a rel="alternate" type="application/atom+xml" title="RSS" href="https://csuwangj.github.io/ZDaily/atom.xml">
                  RSS
                </a>
              
            </div>
            <div class="links-of-author">
              
                <a href="https:&#x2F;&#x2F;github.com&#x2F;CSUwangj" title="Github" class="author-link">
                  <i class="fa-brands fa-github"></i>
                </a>
              
                <a href="mailto:CSUwangj@protonmail.com" title="EMail" class="author-link">
                  <i class="fa-solid fa-envelope"></i>
                </a>
              
            </div>
            <div class="links-of-blogroll">
              
                <a href="https:&#x2F;&#x2F;CSUwangj.github.io&#x2F;">blog</a>
              
            </div>
          </aside>
        

      </main>

      
        <footer name="footer">
          <div class="copyright">
            <span item="copyrightYear">Â© 2018-2022</span>
            <span class="author">CSUwangj</span>
          </div>
          <div class="powered-by">
            Powered by <a href="https://www.getzola.org/">Zola</a> Theme <a href="https://github.com/CSUwangj/DogFood">DogFood</a>
          </div>
        </footer>
      
    </body>

</html>